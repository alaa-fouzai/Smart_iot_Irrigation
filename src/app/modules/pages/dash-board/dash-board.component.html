<section class="content-header">
  <h1>
    Dashboard
    <small>it's All Here</small>
  </h1>
  <ol class="breadcrumb">
    <li><a href="/dashboard"><i class="fa fa-dashboard"></i> Home</a></li>
  </ol>
</section>

<!-- Main content -->
<section class="content">

  <div class="row">
    <div class="col-md-3 col-sm-6 col-xs-12">
      <div class="info-box">
        <span class="info-box-icon bg-aqua"><i class="ion ion-ios-gear-outline"></i></span>

        <div class="info-box-content">
          <span class="info-box-text">Number of Locations</span>
          <span class="info-box-number">{{ CurrentUser.locationIds.length }}<small> Locations</small></span>
        </div>
        <!-- /.info-box-content -->
      </div>
      <!-- /.info-box -->
    </div>
    <!-- /.col -->
    <div class="col-md-3 col-sm-6 col-xs-12">
      <div class="info-box">
        <span class="info-box-icon bg-red"><i class="fa fa-google-plus"></i></span>

        <div class="info-box-content">
          <span class="info-box-text">Likes</span>
          <span class="info-box-number">41,410</span>
        </div>
        <!-- /.info-box-content -->
      </div>
      <!-- /.info-box -->
    </div>
    <!-- /.col -->

    <!-- fix for small devices only -->
    <div class="clearfix visible-sm-block"></div>

    <div class="col-md-3 col-sm-6 col-xs-12">
      <div class="info-box">
        <span class="info-box-icon bg-green"><i class="ion ion-ios-cart-outline"></i></span>

        <div class="info-box-content">
          <span class="info-box-text">Sales</span>
          <span class="info-box-number">760</span>
        </div>
        <!-- /.info-box-content -->
      </div>
      <!-- /.info-box -->
    </div>
    <!-- /.col -->
    <div class="col-md-3 col-sm-6 col-xs-12">
      <div class="info-box">
        <span class="info-box-icon bg-yellow"><i class="ion ion-ios-people-outline"></i></span>

        <div class="info-box-content">
          <span class="info-box-text">New Members</span>
          <span class="info-box-number">2,000</span>
        </div>
        <!-- /.info-box-content -->
      </div>
      <!-- /.info-box -->
    </div>
    <!-- /.col -->
  </div>

  <!-- Default box -->
  <div class="box">

    <div class="box-header with-border">
      <h3 class="box-title">Weither in the next 5 days</h3>

      <div class="box-tools pull-right">
        <button class="btn btn-box-tool" data-toggle="tooltip" data-widget="collapse" title="Collapse"
                type="button">
          <i class="fa fa-minus"></i></button>
        <button class="btn btn-box-tool" data-toggle="tooltip" data-widget="remove" title="Remove" type="button">
          <i class="fa fa-times"></i></button>
      </div>
    </div>
    <div class="box-body">
      {{ CurrentUser.LastName }} ,Welcome to your amazing application!<br>
      <div *ngIf="weitherLoaded; else elseBlock">
        Location : {{LocationName}}
        <ul class="weither">
          <div *ngFor="let item of weitherData.list">
          <li class="classli"  >

            {{item.dt * 1000 | date:'short'}}<br>
            Tempreture :{{ item.main.temp }} C<br>
            Humidity  :{{ item.main.humidity }} %<br>
            {{item.weather[0].main}}<span class="glyphicon glyphicon-cloud" *ngIf="item.weather[0].main == 'Clouds'" ></span>
            <span class="glyphicon glyphicon-sort-by-attributes-alt" *ngIf="item.weather[0].main == 'Rain'" ></span>

          </li>
          </div>
        </ul>

      </div>
      </div>
      <ng-template #elseBlock>Waiting for weither data <i class="fa fa-refresh fa-spin"></i></ng-template>

    <!-- /.box-body -->
    <div class="box-footer">
      Footer
    </div>


    <!-- /.box-footer-->
  </div>

  <!-- /.box -->
  <div class="row">

  <div *ngFor="let Ses of Sensors;index as i;">

        <!-- Left col -->
        <section class="col-lg-6">

          <!-- Custom tabs (Charts with tabs)-->
          <div class="nav-tabs-custom">
            <div class="overlay" *ngIf="!Loaded">
              <i class="fa fa-refresh fa-spin"></i>
            </div>
            <!-- Tabs within a box -->
            <ul class="nav nav-tabs pull-right ui-sortable-handle">

              <li class="pull-left header"><i class="fa fa-inbox"></i>{{i+1}} :{{ Ses.Name }}</li>
            </ul>


            <canvas baseChart
                    [datasets]="dataaa[i]"
                    [labels]="BarChartLabels[i]"
                    [options]="BarChartOptions"
                    [legend]="BarChartLegend"
                    [chartType]="BarChartType"
            ></canvas>
            <div class="progress-card">
              <div class="box-footer text-black">
                <div class="row">
                  <div class="col-sm-6">
                    <!-- Progress bars -->
                    <div class="clearfix">
                      <span class="pull-left"><p class="text-muted">Battery : {{Batterys[i]}}%</p></span>
                    </div>
                    <div class="progress xs">
                      <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" [ngStyle]="{'width.%':Batterys[i]}" ></div>
                    </div>

                    <div class="clearfix">

                      <span class="pull-left"><p class="text-muted">Last Reading :</p></span>
                    </div>
                    <div >
                      <h4>{{lastReadTime[i]}}</h4>
                    </div>
                  </div>
                  <!-- /.col -->
                  <div class="col-sm-6">
                    <div class="clearfix">
                      <span class="pull-left">Task #3</span>
                      <small class="pull-right">60%</small>
                    </div>
                    <div class="progress xs">
                      <div class="progress-bar progress-bar-green" style="width: 60%;"></div>
                    </div>

                    <div class="clearfix">
                      <span class="pull-left">Task #4</span>
                      <small class="pull-right">40%</small>
                    </div>
                    <div class="progress xs">
                      <div class="progress-bar progress-bar-green" style="width: 40%;"></div>
                    </div>
                  </div>
                  <!-- /.col -->
                </div>
                <!-- /.row -->
              </div>
            </div>



          </div>
          <!-- /.nav-tabs-custom -->
        </section>

      </div>
  </div>
  </section>

<!-- /.content -->
